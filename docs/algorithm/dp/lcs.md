# 最长公共子序列（Longest Common Subsequence, LCS）

## 介绍

最长公共子序列是指两个序列中**最长的同时出现在两者中的子序列**。注意，子序列不是子字符串，子序列中的字符可以不连续。

> 对于字符串 `ABCBDAB` 和 `BDCAB`，它们的最长公共子序列是 `BCAB` 或 `BDAB`，长度为 `4`。

## 问题定义

1. 给定两个字符串 $X$ 和 $Y$ ，找到它们的最长公共子序列。
2. 设 $X$ 长度为 $m$ ， $Y$ 长度为 $n$ 。
3. 我们定义一个二维数组 $dp[i][j]$ ，表示字符串$X[0 \ldots i-1]$ 和 $Y[0 \ldots j-1]$ 的最长公共子序列的长度。

4. 递推关系：

- 如果 $X[i-1] == Y[j-1]$ ，则 $dp[i][j] = dp[i-1][j-1] + 1$ ；
- 如果 $X[i-1] \neq Y[j-1]$ ，则 $dp[i][j] = \max(dp[i-1][j], dp[i][j-1])$ 。

5. 初始条件：

- 当 $i = 0$ 或 $j = 0$ ，即空字符串与任意字符串的 LCS 长度为 0，因此 $dp[0][j] = 0$ 和 $dp[i][0] = 0$ 。

6. 最终结果：

- $dp[m][n]$ 即为 $X$ 和 $Y$ 的最长公共子序列长度。

## 复杂度

1. 时间复杂度

- 动态规划表的填充需要 $O(m \times n)$，其中 $m$ 和 $n$ 是两个字符串的长度。

2. 空间复杂度

- 如果只计算长度，优化为一维数组时，空间复杂度为 $O(\min(m, n))$。
- 如果需要回溯构造子序列，空间复杂度为 $O(m \times n)$。

## 应用场景

1. 文件比较工具：计算两个文件的相似度。
2. DNA 序列比对：生物信息学中的基因序列比对问题。
3. 文本编辑器：查找两个版本的文档差异。
4. 动态规划问题的延伸：如最长公共子串、编辑距离问题等。

## 总结

最长公共子序列问题是经典的动态规划问题之一，其核心思想是通过二维表格记录每一步的状态，逐步构建解。在优化和扩展中，可以通过一维数组节省空间，或在实际应用中加入启发式算法提升效率。
