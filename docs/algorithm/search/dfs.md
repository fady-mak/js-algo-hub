# 深度优先搜索（Depth First Search, DFS）

## 介绍

深度优先搜索（`DFS`）是一种用于图或树的遍历算法。它按照深度优先的方式探索节点，从起点开始一路深入到某个分支的最深处，然后回溯到最近的分叉点继续搜索，直到所有节点都被访问。

`DFS` 可以以递归或迭代（使用栈）的方式实现。该算法广泛应用于路径查找、连通性分析、拓扑排序等问题中。

> [!TIP] 算法原理
>
> 1. 从起始节点开始，将其标记为已访问。
> 2. 遍历起始节点的所有相邻节点。
> 3. 对每个未访问的邻节点递归执行步骤 1 和步骤 2。
> 4. 如果所有相邻节点都已访问，则回溯到上一个节点。
> 5. 重复直到所有节点都被访问。

## 代码

::: code-group
<<< ../../../src/search/dfs.ts

<<< ../../../src/search/dfs.test.ts
:::

## 源码

<SourceGroup/>

## 算法复杂度

1. 时间复杂度：

- $O(V + E)$，其中 $V$ 是节点数，$E$ 是边数
- 每个节点被访问一次，且每条边也被访问一次。

2. 空间复杂度：

- $O(V)$，存储已访问的节点和递归调用栈（或显式栈）的空间。

## 优点与缺点

### 优点：

1. 实现简单且高效。
2. 能够找到所有连通分量。
3. 对路径搜索和图遍历问题非常适合。

### 缺点：

1. 在深度较大的图中，递归版本可能会导致栈溢出。
2. 不适合寻找最短路径。

## 使用场景

1. 路径查找：

- 如迷宫问题或网络中寻找是否存在一条路径。

2. 图的连通性分析：

- 确定图中有多少个连通分量。

3. 拓扑排序：

- 在有向无环图中，`DFS` 可用于生成拓扑排序。

4. 解决强连通分量问题：

- `Kosaraju` 和 `Tarjan` 算法基于 `DFS`。

## 总结

深度优先搜索是一种基础且强大的算法，适用于多种图论问题。尽管其实现简单，但在特定场景下需要注意递归版本的栈深度限制。对于路径搜索和连通性问题，DFS 是首选方法之一。
