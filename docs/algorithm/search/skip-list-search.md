# 跳表搜索（Skip List Search）

## 介绍

跳表（Skip List）是一种基于链表的数据结构，它通过为链表添加多层“索引”来加速查找操作。跳表的设计灵感来自平衡树，但实现更简单，且能够以随机化的方式保持性能。

跳表搜索在平均情况下具有$O(\log n)$ 的时间复杂度，在最坏情况下为 $O(n)$（退化为普通链表）。

> [!TIP] 跳表的结构
>
> 1. 多层索引：每一层都是一个有序链表，高层是低层的抽样子集。
> 2. 底层链表：存储所有元素。
> 3. 层数决定效率：通过概率 $p$（通常为 0.5）随机决定每个元素出现在多少层，层数大致为$\log n$。

> [!TIP] 搜索过程
>
> 1. 从顶层链表的头节点开始。
> 2. 比较当前节点的值和目标值：
>
> - 如果当前值小于目标值，向右移动。
> - 如果当前值大于目标值，向下跳到下一层。
>
> 3. 重复上述过程，直到找到目标值或到达底层链表的尾部。

## 代码

::: code-group
<<< ../../../src/search/binary-search.ts

<<< ../../../src/search/binary-search.test.ts
:::

## 源码

<SourceGroup/>

## 算法复杂度

1. 时间复杂度：

- 搜索：$O(\log n)$（平均），$O(n)$（最坏）。
- 插入：$O(\log n)$（平均），$O(n)$（最坏）。
- 删除：$O(\log n)$（平均），$O(n)$（最坏）。

2. 空间复杂度：

- $O(n)$，其中 $n$ 是元素数量。

## 优点与缺点

### 优点：

1. 实现简单，易于维护。
2. 支持快速插入、删除和搜索操作。
3. 高效处理动态数据集。

### 缺点：

1. 最坏情况下性能会退化为链表（虽然概率极低）。
2. 相较于平衡树，空间开销较大。

## 使用场景

1. 动态数据存储：

- 需要频繁插入、删除和搜索的场景，例如缓存实现。

2. 大规模数据处理：

- 数据量较大且需要快速访问的场景。

## 总结

跳表是一种平衡树的替代方案，通过随机化实现了接近平衡树的性能。在 Redis 和 LevelDB 等数据库实现中，跳表得到了广泛应用。
